{"version":3,"file":"document.js","names":["taroDocumentProvider: TaroDocument","env"],"sources":["../../src/bom/document.ts"],"sourcesContent":["import {\n  APP,\n  BODY,\n  CONTAINER,\n  HEAD,\n  HTML\n} from '../constants'\nimport { TaroDocument } from '../dom/document'\nimport env from '../env'\n\nfunction createDocument (): TaroDocument {\n  /**\n     * <document>\n     *   <html>\n     *     <head></head>\n     *     <body>\n     *       <container>\n     *         <app id=\"app\" />\n     *       </container>\n     *     </body>\n     *   </html>\n     * </document>\n     */\n  const doc = new TaroDocument()\n  const documentCreateElement = doc.createElement.bind(doc)\n  const html = documentCreateElement(HTML)\n  const head = documentCreateElement(HEAD)\n  const body = documentCreateElement(BODY)\n  const app = documentCreateElement(APP)\n  app.id = APP\n  const container = documentCreateElement(CONTAINER) // 多包一层主要为了兼容 vue\n\n  doc.appendChild(html)\n  html.appendChild(head)\n  html.appendChild(body)\n  body.appendChild(container)\n  container.appendChild(app)\n\n  doc.documentElement = html\n  doc.head = head\n  doc.body = body\n\n  return doc\n}\n\n// Note: 小程序端 vite 打包成 commonjs，const document = xxx 会报错，所以把 document 改为 taroDocumentProvider\nexport const taroDocumentProvider: TaroDocument = process.env.TARO_PLATFORM === 'web' ? env.document : (env.document = createDocument())\n"],"mappings":";;;;;AAUA,SAAS,iBAAgC;;;;;;;;;;;;;CAavC,MAAM,MAAM,IAAI;CAChB,MAAM,wBAAwB,IAAI,cAAc,KAAK,IAAI;CACzD,MAAM,OAAO,sBAAsB,KAAK;CACxC,MAAM,OAAO,sBAAsB,KAAK;CACxC,MAAM,OAAO,sBAAsB,KAAK;CACxC,MAAM,MAAM,sBAAsB,IAAI;AACtC,KAAI,KAAK;CACT,MAAM,YAAY,sBAAsB,UAAU;AAElD,KAAI,YAAY,KAAK;AACrB,MAAK,YAAY,KAAK;AACtB,MAAK,YAAY,KAAK;AACtB,MAAK,YAAY,UAAU;AAC3B,WAAU,YAAY,IAAI;AAE1B,KAAI,kBAAkB;AACtB,KAAI,OAAO;AACX,KAAI,OAAO;AAEX,QAAO;AACR;AAGD,MAAaA,uBAAqC,QAAQ,IAAI,kBAAkB,QAAQC,YAAI,WAAYA,YAAI,WAAW,gBAAgB"}