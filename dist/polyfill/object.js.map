{"version":3,"file":"object.js","names":["to: [string, unknown][]","properties: Record<PropertyKey, Record<PropertyKey, unknown>>","desc: Record<string, unknown>","obj","d: Record<PropertyKey, unknown>","descs: [PropertyKey, Record<PropertyKey, unknown>][]"],"sources":["../../src/polyfill/object.ts"],"sourcesContent":["import { isFunction, isObject, isUndefined } from '@tarojs/shared'\n\nexport function handleObjectAssignPolyfill () {\n  if (!isFunction(Object.assign)) {\n    // Must be writable: true, enumerable: false, configurable: true\n    Object.assign = function (target) { // .length of function is 2\n      if (target == null) { // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object')\n      }\n\n      const to = Object(target)\n\n      for (let index = 1; index < arguments.length; index++) {\n        const nextSource = arguments[index]\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (const nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey]\n            }\n          }\n        }\n      }\n      return to\n    }\n  }\n}\n\nexport function handleObjectEntriesPolyfill () {\n  if (!isFunction(Object.entries)) {\n    // Must be writable: true, enumerable: false, configurable: true\n    Object.entries = function (obj) { // .length of function is 2\n      if (obj == null) { // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object')\n      }\n\n      const to: [string, unknown][] = []\n\n      if (obj != null) { // Skip over if undefined or null\n        for (const key in obj) {\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            to.push([key, obj[key]])\n          }\n        }\n      }\n      return to\n    }\n  }\n}\n\nexport function handleObjectDefinePropertyPolyfill () {\n  if (!isFunction(Object.defineProperties)) {\n    Object.defineProperties = function (obj, properties: Record<PropertyKey, Record<PropertyKey, unknown>>) {\n      function convertToDescriptor (desc: Record<string, unknown>) {\n        function hasProperty (obj, prop) {\n          return Object.prototype.hasOwnProperty.call(obj, prop)\n        }\n\n        if (!isObject(desc)) { throw new TypeError('bad desc') }\n\n        const d: Record<PropertyKey, unknown> = {}\n\n        if (hasProperty(desc, 'enumerable')) d.enumerable = !!desc.enumerable\n        if (hasProperty(desc, 'configurable')) { d.configurable = !!desc.configurable }\n        if (hasProperty(desc, 'value')) d.value = desc.value\n        if (hasProperty(desc, 'writable')) d.writable = !!desc.writable\n        if (hasProperty(desc, 'get')) {\n          const g = desc.get\n\n          if (!isFunction(g) && !isUndefined(g)) { throw new TypeError('bad get') }\n          d.get = g\n        }\n        if (hasProperty(desc, 'set')) {\n          const s = desc.set\n          if (!isFunction(s) && !isUndefined(s)) { throw new TypeError('bad set') }\n          d.set = s\n        }\n\n        if (('get' in d || 'set' in d) && ('value' in d || 'writable' in d)) { throw new TypeError('identity-confused descriptor') }\n\n        return d\n      }\n\n      if (!isObject(obj)) throw new TypeError('bad obj')\n\n      properties = Object(properties)\n\n      const keys = Object.keys(properties)\n      const descs: [PropertyKey, Record<PropertyKey, unknown>][] = []\n\n      for (let i = 0; i < keys.length; i++) {\n        descs.push([keys[i], convertToDescriptor(properties[keys[i]])])\n      }\n\n      for (let i = 0; i < descs.length; i++) {\n        Object.defineProperty(obj, descs[i][0], descs[i][1])\n      }\n\n      return obj\n    }\n  }\n}\n"],"mappings":";;;AAEA,SAAgB,6BAA8B;AAC5C,MAAK,WAAW,OAAO,OAAO,CAE5B,QAAO,SAAS,SAAU,QAAQ;AAChC,MAAI,UAAU,KACZ,OAAM,IAAI,UAAU;EAGtB,MAAM,KAAK,OAAO,OAAO;AAEzB,OAAK,IAAI,QAAQ,GAAG,QAAQ,UAAU,QAAQ,SAAS;GACrD,MAAM,aAAa,UAAU;AAE7B,OAAI,cAAc,MAChB;SAAK,MAAM,WAAW,WAEpB,KAAI,OAAO,UAAU,eAAe,KAAK,YAAY,QAAQ,CAC3D,IAAG,WAAW,WAAW;GAE5B;EAEJ;AACD,SAAO;CACR;AAEJ;AAED,SAAgB,8BAA+B;AAC7C,MAAK,WAAW,OAAO,QAAQ,CAE7B,QAAO,UAAU,SAAU,KAAK;AAC9B,MAAI,OAAO,KACT,OAAM,IAAI,UAAU;EAGtB,MAAMA,KAA0B,CAAE;AAElC,MAAI,OAAO,MACT;QAAK,MAAM,OAAO,IAEhB,KAAI,OAAO,UAAU,eAAe,KAAK,KAAK,IAAI,CAChD,IAAG,KAAK,CAAC,KAAK,IAAI,IAAK,EAAC;EAE3B;AAEH,SAAO;CACR;AAEJ;AAED,SAAgB,qCAAsC;AACpD,MAAK,WAAW,OAAO,iBAAiB,CACtC,QAAO,mBAAmB,SAAU,KAAKC,YAA+D;EACtG,SAAS,oBAAqBC,MAA+B;GAC3D,SAAS,YAAaC,OAAK,MAAM;AAC/B,WAAO,OAAO,UAAU,eAAe,KAAKA,OAAK,KAAK;GACvD;AAED,QAAK,SAAS,KAAK,CAAI,OAAM,IAAI,UAAU;GAE3C,MAAMC,IAAkC,CAAE;AAE1C,OAAI,YAAY,MAAM,aAAa,CAAE,GAAE,eAAe,KAAK;AAC3D,OAAI,YAAY,MAAM,eAAe,CAAI,GAAE,iBAAiB,KAAK;AACjE,OAAI,YAAY,MAAM,QAAQ,CAAE,GAAE,QAAQ,KAAK;AAC/C,OAAI,YAAY,MAAM,WAAW,CAAE,GAAE,aAAa,KAAK;AACvD,OAAI,YAAY,MAAM,MAAM,EAAE;IAC5B,MAAM,IAAI,KAAK;AAEf,SAAK,WAAW,EAAE,KAAK,YAAY,EAAE,CAAI,OAAM,IAAI,UAAU;AAC7D,MAAE,MAAM;GACT;AACD,OAAI,YAAY,MAAM,MAAM,EAAE;IAC5B,MAAM,IAAI,KAAK;AACf,SAAK,WAAW,EAAE,KAAK,YAAY,EAAE,CAAI,OAAM,IAAI,UAAU;AAC7D,MAAE,MAAM;GACT;AAED,QAAK,SAAS,KAAK,SAAS,OAAO,WAAW,KAAK,cAAc,GAAM,OAAM,IAAI,UAAU;AAE3F,UAAO;EACR;AAED,OAAK,SAAS,IAAI,CAAE,OAAM,IAAI,UAAU;AAExC,eAAa,OAAO,WAAW;EAE/B,MAAM,OAAO,OAAO,KAAK,WAAW;EACpC,MAAMC,QAAuD,CAAE;AAE/D,OAAK,IAAI,IAAI,GAAG,IAAI,KAAK,QAAQ,IAC/B,OAAM,KAAK,CAAC,KAAK,IAAI,oBAAoB,WAAW,KAAK,IAAI,AAAC,EAAC;AAGjE,OAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,IAChC,QAAO,eAAe,KAAK,MAAM,GAAG,IAAI,MAAM,GAAG,GAAG;AAGtD,SAAO;CACR;AAEJ"}