{"version":3,"file":"index.js","names":[],"sources":["../../src/polyfill/index.ts"],"sourcesContent":["import { isObject } from '@tarojs/shared'\n\nimport { handleArrayFindPolyfill, handleArrayIncludesPolyfill } from './array'\nimport { handleIntersectionObserverPolyfill } from './intersection-observer'\nimport { handleObjectAssignPolyfill, handleObjectDefinePropertyPolyfill, handleObjectEntriesPolyfill } from './object'\n\nfunction handlePolyfill () {\n  if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'Object' || process.env.SUPPORT_TARO_POLYFILL === 'Object.assign') {\n    handleObjectAssignPolyfill()\n  }\n  if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'Object' || process.env.SUPPORT_TARO_POLYFILL === 'Object.entries') {\n    handleObjectEntriesPolyfill()\n  }\n  if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'Object' || process.env.SUPPORT_TARO_POLYFILL === 'Object.defineProperty') {\n    handleObjectDefinePropertyPolyfill()\n  }\n  if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'Array' || process.env.SUPPORT_TARO_POLYFILL === 'Array.find') {\n    handleArrayFindPolyfill()\n  }\n  if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'Array' || process.env.SUPPORT_TARO_POLYFILL === 'Array.includes') {\n    handleArrayIncludesPolyfill()\n  }\n  // Exit early if we're not running in a browser.\n  if (process.env.TARO_PLATFORM === 'web' && isObject(window)) {\n    if (process.env.SUPPORT_TARO_POLYFILL === 'enabled' || process.env.SUPPORT_TARO_POLYFILL === 'IntersectionObserver') {\n      handleIntersectionObserverPolyfill()\n    }\n  }\n}\n\nif (process.env.SUPPORT_TARO_POLYFILL !== 'disabled' && process.env.TARO_PLATFORM !== 'web') {\n  handlePolyfill()\n}\n\nexport { handlePolyfill }\n\n"],"mappings":";;;;;;;;AAMA,SAAS,iBAAkB;AACzB,KAAI,QAAQ,IAAI,0BAA0B,aAAa,QAAQ,IAAI,0BAA0B,YAAY,QAAQ,IAAI,0BAA0B,iBAAiB;AAC9J,8BAA4B;CAC7B;AACD,KAAI,QAAQ,IAAI,0BAA0B,aAAa,QAAQ,IAAI,0BAA0B,YAAY,QAAQ,IAAI,0BAA0B,kBAAkB;AAC/J,+BAA6B;CAC9B;AACD,KAAI,QAAQ,IAAI,0BAA0B,aAAa,QAAQ,IAAI,0BAA0B,YAAY,QAAQ,IAAI,0BAA0B,yBAAyB;AACtK,sCAAoC;CACrC;AACD,KAAI,QAAQ,IAAI,0BAA0B,aAAa,QAAQ,IAAI,0BAA0B,WAAW,QAAQ,IAAI,0BAA0B,cAAc;AAC1J,2BAAyB;CAC1B;AACD,KAAI,QAAQ,IAAI,0BAA0B,aAAa,QAAQ,IAAI,0BAA0B,WAAW,QAAQ,IAAI,0BAA0B,kBAAkB;AAC9J,+BAA6B;CAC9B;AAED,KAAI,QAAQ,IAAI,kBAAkB,SAAS,+BAAS,OAAO,EAAE;AAC3D,MAAI,QAAQ,IAAI,0BAA0B,aAAa,QAAQ,IAAI,0BAA0B,wBAAwB;AACnH,uCAAoC;EACrC;CACF;AACF;AAED,IAAI,QAAQ,IAAI,0BAA0B,cAAc,QAAQ,IAAI,kBAAkB,OAAO;AAC3F,iBAAgB;AACjB"}