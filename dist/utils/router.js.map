{"version":3,"file":"router.js","names":["customRoutes: Record<string, string | string[]>","location"],"sources":["../../src/utils/router.ts"],"sourcesContent":["import { taroLocationProvider as location } from '../bom/window'\n\n// export const removeLeadingSlash = (str = '') => str.replace(/^\\.?\\//, '')\n// export const removeTrailingSearch = (str = '') => str.replace(/\\?[\\s\\S]*$/, '')\nexport const addLeadingSlash = (url = '') => (url.charAt(0) === '/' ? url : '/' + url)\n\nexport const hasBasename = (path = '', prefix = '') =>\n  new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i').test(path) || path === prefix\n\nexport const stripBasename = (path = '', prefix = '') =>\n  hasBasename(path, prefix) ? path.substring(prefix.length) : path\n\nexport const stripTrailing = (str = '') => str.replace(/[?#][\\s\\S]*$/, '')\n\nexport const stripSuffix = (path = '', suffix = '') =>\n  path.includes(suffix) ? path.substring(0, path.length - suffix.length) : path\n\nexport const getHomePage = (path = '', basename = '', customRoutes: Record<string, string | string[]> = {}, entryPagePath = '') => {\n  const routePath = addLeadingSlash(stripBasename(path, basename))\n  const alias = Object.entries(customRoutes).find(\n    ([key]) => key === routePath\n  )?.[1] || routePath\n  return entryPagePath || (typeof alias === 'string' ? alias : alias[0]) || basename\n}\n\nexport const getCurrentPage = (routerMode = 'hash', basename = '/') => {\n  const pagePath = routerMode === 'hash'\n    ? location.hash.slice(1).split('?')[0]\n    : location.pathname\n  return addLeadingSlash(stripBasename(pagePath, basename))\n}\n"],"mappings":";;;AAIA,MAAa,kBAAkB,CAAC,MAAM,OAAQ,IAAI,OAAO,EAAE,KAAK,MAAM,MAAM,MAAM;AAElF,MAAa,cAAc,CAAC,OAAO,IAAI,SAAS,OAC9C,IAAI,OAAO,MAAM,SAAS,iBAAiB,KAAK,KAAK,KAAK,IAAI,SAAS;AAEzE,MAAa,gBAAgB,CAAC,OAAO,IAAI,SAAS,OAChD,YAAY,MAAM,OAAO,GAAG,KAAK,UAAU,OAAO,OAAO,GAAG;AAE9D,MAAa,gBAAgB,CAAC,MAAM,OAAO,IAAI,QAAQ,gBAAgB,GAAG;AAE1E,MAAa,cAAc,CAAC,OAAO,IAAI,SAAS,OAC9C,KAAK,SAAS,OAAO,GAAG,KAAK,UAAU,GAAG,KAAK,SAAS,OAAO,OAAO,GAAG;AAE3E,MAAa,cAAc,CAAC,OAAO,IAAI,WAAW,IAAIA,eAAkD,CAAE,GAAE,gBAAgB,OAAO;CACjI,MAAM,YAAY,gBAAgB,cAAc,MAAM,SAAS,CAAC;CAChE,MAAM,QAAQ,OAAO,QAAQ,aAAa,CAAC,KACzC,CAAC,CAAC,IAAI,KAAK,QAAQ,UACpB,GAAG,MAAM;AACV,QAAO,yBAAyB,UAAU,WAAW,QAAQ,MAAM,OAAO;AAC3E;AAED,MAAa,iBAAiB,CAAC,aAAa,QAAQ,WAAW,QAAQ;CACrE,MAAM,WAAW,eAAe,SAC5B,qBAAS,KAAK,MAAM,EAAE,CAAC,MAAM,IAAI,CAAC,KAClCC,qBAAS;AACb,QAAO,gBAAgB,cAAc,UAAU,SAAS,CAAC;AAC1D"}