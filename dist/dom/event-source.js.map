{"version":3,"file":"event-source.js","names":["child: TaroNode","eventSource: IEventSource"],"sources":["../../src/dom/event-source.ts"],"sourcesContent":["import type { TaroNode } from './node'\n\ninterface IEventSource extends Map<string | undefined | null, TaroNode> {\n  removeNode (child: TaroNode): void\n  removeNodeTree (child: TaroNode): void\n}\n\nclass EventSource extends Map {\n  removeNode (child: TaroNode) {\n    const { sid, uid } = child\n    this.delete(sid)\n    if (uid !== sid && uid) this.delete(uid)\n  }\n\n  removeNodeTree (child: TaroNode) {\n    this.removeNode(child)\n    const { childNodes } = child\n    childNodes.forEach(node => this.removeNodeTree(node))\n  }\n}\n\nexport const eventSource: IEventSource = new EventSource()\n"],"mappings":";AAOA,IAAM,cAAN,cAA0B,IAAI;CAC5B,WAAYA,OAAiB;EAC3B,MAAM,EAAE,KAAK,KAAK,GAAG;AACrB,OAAK,OAAO,IAAI;AAChB,MAAI,QAAQ,OAAO,IAAK,MAAK,OAAO,IAAI;CACzC;CAED,eAAgBA,OAAiB;AAC/B,OAAK,WAAW,MAAM;EACtB,MAAM,EAAE,YAAY,GAAG;AACvB,aAAW,QAAQ,UAAQ,KAAK,eAAe,KAAK,CAAC;CACtD;AACF;AAED,MAAaC,cAA4B,IAAI"}