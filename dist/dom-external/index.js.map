{"version":3,"file":"index.js","names":["PLATFORM_TYPE","html: string"],"sources":["../../src/dom-external/index.ts"],"sourcesContent":["import { PLATFORM_TYPE } from '@tarojs/shared'\n\nimport { TaroElement } from '../dom/element'\nimport { TaroNode } from '../dom/node'\nimport { setInnerHTML } from '../dom-external/inner-html/html'\nimport { getBoundingClientRectImpl, getTemplateContent } from './element'\nimport { cloneNode, contains, insertAdjacentHTML } from './node'\n\ndeclare const ENABLE_INNER_HTML: boolean\ndeclare const ENABLE_ADJACENT_HTML: boolean\ndeclare const ENABLE_CLONE_NODE: boolean\ndeclare const ENABLE_CONTAINS: boolean\n\ndeclare const ENABLE_SIZE_APIS: boolean\ndeclare const ENABLE_TEMPLATE_CONTENT: boolean\n\nif (process.env.TARO_PLATFORM !== PLATFORM_TYPE.WEB && process.env.TARO_PLATFORM !== PLATFORM_TYPE.HARMONY) {\n  if (ENABLE_INNER_HTML) {\n    TaroNode.extend('innerHTML', {\n      set (html: string) {\n        setInnerHTML.call(this, this, html)\n      },\n      get (): string {\n        return ''\n      }\n    })\n\n    if (ENABLE_ADJACENT_HTML) {\n      TaroNode.extend('insertAdjacentHTML', insertAdjacentHTML)\n    }\n  }\n\n  if (ENABLE_CLONE_NODE) {\n    TaroNode.extend('cloneNode', cloneNode)\n  }\n\n  if (ENABLE_CONTAINS) {\n    TaroNode.extend('contains', contains)\n  }\n\n  if (ENABLE_SIZE_APIS) {\n    TaroElement.extend('getBoundingClientRect', getBoundingClientRectImpl)\n  }\n\n  if (ENABLE_TEMPLATE_CONTENT) {\n    TaroElement.extend('content', {\n      get () {\n        return getTemplateContent(this)\n      }\n    })\n  }\n}\n"],"mappings":";;;;;;;;;;AAgBA,IAAI,QAAQ,IAAI,kBAAkBA,iBAAc,OAAO,QAAQ,IAAI,kBAAkBA,iBAAc,SAAS;AAC1G,KAAI,mBAAmB;AACrB,WAAS,OAAO,aAAa;GAC3B,IAAKC,MAAc;AACjB,iBAAa,KAAK,MAAM,MAAM,KAAK;GACpC;GACD,MAAe;AACb,WAAO;GACR;EACF,EAAC;AAEF,MAAI,sBAAsB;AACxB,YAAS,OAAO,sBAAsB,mBAAmB;EAC1D;CACF;AAED,KAAI,mBAAmB;AACrB,WAAS,OAAO,aAAa,UAAU;CACxC;AAED,KAAI,iBAAiB;AACnB,WAAS,OAAO,YAAY,SAAS;CACtC;AAED,KAAI,kBAAkB;AACpB,cAAY,OAAO,yBAAyB,0BAA0B;CACvE;AAED,KAAI,yBAAyB;AAC3B,cAAY,OAAO,WAAW,EAC5B,MAAO;AACL,UAAO,mBAAmB,KAAK;EAChC,EACF,EAAC;CACH;AACF"}