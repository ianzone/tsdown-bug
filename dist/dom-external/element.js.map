{"version":3,"file":"element.js","names":["ctx: TaroElement","content: TaroElement"],"sources":["../../src/dom-external/element.ts"],"sourcesContent":["import { DOCUMENT_FRAGMENT } from '../constants'\nimport { options } from '../options'\n\nimport type { TaroElement } from '../dom/element'\n\nexport function getBoundingClientRectImpl (this: TaroElement): Promise<null> {\n  if (!options.miniGlobal) return Promise.resolve(null)\n  return new Promise(resolve => {\n    const query = options.miniGlobal.createSelectorQuery()\n    // ref: https://opendocs.alipay.com/mini/api/na4yun\n    if (process.env.TARO_ENV === 'alipay') {\n      query.select(`#${this.uid}`).boundingClientRect().exec(res => {\n        resolve(res)\n      })\n      return\n    }\n\n    query.select(`#${this.uid}`).boundingClientRect(res => {\n      resolve(res)\n    }).exec()\n  })\n}\n\nexport function getTemplateContent (ctx: TaroElement): TaroElement | undefined {\n  if (ctx.nodeName === 'template') {\n    const document = ctx.ownerDocument\n    const content: TaroElement = document.createElement(DOCUMENT_FRAGMENT)\n    content.childNodes = ctx.childNodes\n    ctx.childNodes = [content]\n    content.parentNode = ctx\n    content.childNodes.forEach(nodes => {\n      nodes.parentNode = content\n    })\n    return content\n  }\n}\n"],"mappings":";;;;AAKA,SAAgB,4BAA6D;AAC3E,MAAK,QAAQ,WAAY,QAAO,QAAQ,QAAQ,KAAK;AACrD,QAAO,IAAI,QAAQ,aAAW;EAC5B,MAAM,QAAQ,QAAQ,WAAW,qBAAqB;AAEtD,MAAI,QAAQ,IAAI,aAAa,UAAU;AACrC,SAAM,QAAQ,GAAG,KAAK,IAAI,EAAE,CAAC,oBAAoB,CAAC,KAAK,SAAO;AAC5D,YAAQ,IAAI;GACb,EAAC;AACF;EACD;AAED,QAAM,QAAQ,GAAG,KAAK,IAAI,EAAE,CAAC,mBAAmB,SAAO;AACrD,WAAQ,IAAI;EACb,EAAC,CAAC,MAAM;CACV;AACF;AAED,SAAgB,mBAAoBA,KAA2C;AAC7E,KAAI,IAAI,aAAa,YAAY;EAC/B,MAAM,WAAW,IAAI;EACrB,MAAMC,UAAuB,SAAS,cAAc,kBAAkB;AACtE,UAAQ,aAAa,IAAI;AACzB,MAAI,aAAa,CAAC,OAAQ;AAC1B,UAAQ,aAAa;AACrB,UAAQ,WAAW,QAAQ,WAAS;AAClC,SAAM,aAAa;EACpB,EAAC;AACF,SAAO;CACR;AACF"}